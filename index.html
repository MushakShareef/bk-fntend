<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Spiritual Daily Chart for BK - Trichy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="app-root">

    <!-- Toast / notification -->
    <div id="toast" class="toast hidden"></div>

    <!-- ============ LANDING ============ -->
    <section id="view-landing" class="view active">
      <div class="landing-header">
        <div id="logo-touch" class="logo-circle" title="Admin Login">
          <span>
            <img src="/baba.png" alt="Baba">
          </span>
        </div>
        <h1 class="app-title">Spiritual Daily Chart for BK - Trichy</h1>
        <p class="app-subtitle">
          Gently track your daily spiritual efforts and grow in Baba's remembrance.
        </p>
      </div>

      <div class="landing-actions">
        <button id="btn-student-login-landing" class="btn primary">
          Student Login
        </button>
        <button id="btn-student-register-landing" class="btn outline">
          Student Registration
        </button>
        <!-- <button id="btn-public-charts-landing" class="btn ghost">
          View Students' Charts
        </button> -->
      </div>

      <footer class="footer">
        <h3>Key Notes for Maintaining Daily Chart</h3>
        <ul>
          <li>Fill your chart honestly, with love for self-progress.</li>
          <li>Review your weekly and monthly averages with Baba in remembrance.</li>
          <li>Use the chart to gently improve, not to judge yourself or others.</li>
        </ul>
      </footer>
    </section>

    <!-- ============ ADMIN LOGIN ============ -->
    <section id="view-admin-login" class="view">
      <header class="top-bar">
        <button class="link-button" data-nav="landing">← Back</button>
        <h2>Admin Login</h2>
      </header>
      <div class="card">
        <form id="admin-login-form" class="form">
          <div class="form-group">
            <label for="admin-username">User ID</label>
            <input
              id="admin-username"
              type="text"
              autocomplete="username"
              value="AmeerMushak"
            />
          </div>
          <div class="form-group">
            <label for="admin-password">Password</label>
            <div class="password-wrapper">
              <input
                id="admin-password"
                type="password"
                autocomplete="current-password"
                value="Trichy@123"
              />
              <button type="button" class="show-password-toggle" data-target="admin-password">
                Show
              </button>
            </div>
          </div>
          <button type="submit" class="btn primary full-width">
            Login as Admin
          </button>
        </form>
      </div>
    </section>

    <!-- ============ STUDENT LOGIN ============ -->
    <section id="view-student-login" class="view">
      <header class="top-bar">
        <button class="link-button" data-nav="landing">← Back</button>
        <h2>Student Login</h2>
      </header>
      <div class="card">
        <form id="student-login-form" class="form">
          <div class="form-group">
            <label for="student-mobile-login">Mobile Number</label>
            <input
              id="student-mobile-login"
              type="tel"
              autocomplete="tel"
              placeholder="10-digit mobile number"
            />
          </div>
          <div class="form-group">
            <label for="student-password-login">Password</label>
            <div class="password-wrapper">
              <input
                id="student-password-login"
                type="password"
                autocomplete="current-password"
              />
              <button type="button" class="show-password-toggle" data-target="student-password-login">
                Show
              </button>
            </div>
          </div>
          <button type="submit" class="btn primary full-width">
            Login
          </button>
        </form>
      </div>
      <p class="center small-text">
        New student?
        <button class="link-button" data-nav="student-register">
          Register here
        </button>
      </p>
    </section>

    <!-- ============ STUDENT REGISTRATION ============ -->
    <section id="view-student-register" class="view">
      <header class="top-bar">
        <button class="link-button" data-nav="landing">← Back</button>
        <h2>Student Registration</h2>
      </header>
      <div class="card">
        <form id="student-register-form" class="form">
          <div class="form-group">
            <label for="student-name">Name</label>
            <input id="student-name" type="text" />
          </div>
          <div class="form-group">
            <label for="student-centre">Centre Name</label>
            <input id="student-centre" type="text" />
          </div>
          <div class="form-group">
            <label for="student-mobile">Mobile Number</label>
            <input id="student-mobile" type="tel" placeholder="10-digit mobile number" />
          </div>
          <div class="form-group">
            <label for="student-password">Password</label>
            <div class="password-wrapper">
              <input id="student-password" type="password" />
              <button type="button" class="show-password-toggle" data-target="student-password">
                Show
              </button>
            </div>
          </div>
          <div class="form-group">
            <label for="student-password-confirm">Confirm Password</label>
            <div class="password-wrapper">
              <input id="student-password-confirm" type="password" />
              <button type="button" class="show-password-toggle" data-target="student-password-confirm">
                Show
              </button>
            </div>
          </div>
          <button type="submit" class="btn primary full-width">
            Register
          </button>
        </form>
      </div>
    </section>

    <!-- ============ ADMIN DASHBOARD ============ -->
    <section id="view-admin-dashboard" class="view">
      <header class="top-bar">
        <button class="link-button" data-nav="landing" id="admin-logout-btn">
          ← Logout
        </button>
        <h2>Admin Dashboard</h2>
      </header>

      <div class="admin-info">
        Logged in as <span id="admin-username-display"></span>
      </div>

      <div class="tabs">
        <button class="tab-button active" data-admin-tab="points">Manage Points</button>
        <button class="tab-button" data-admin-tab="members">Registered Students</button>
        <button class="tab-button" data-admin-tab="public">Public Charts</button>
      </div>

      <!-- Points management -->
      <div id="admin-tab-points" class="tab-panel active">
        <div class="card">
          <h3>Chart Points (Questions)</h3>
          <p class="small-text">
            You can edit existing points, delete them, or add new points.
          </p>
          <div id="points-list"></div>
          <hr />
          <h4>Add New Point</h4>
          <div class="form-inline">
            <input id="new-point-text" type="text" placeholder="Enter new point text" />
            <button id="add-point-btn" class="btn primary small">Add</button>
          </div>
        </div>
      </div>

      <!-- Members management -->
      <div id="admin-tab-members" class="tab-panel">
        <div class="card">
          <h3>Registered Students</h3>
          <div id="members-list"></div>
        </div>
      </div>

      <!-- Public charts (admin view, same as public view) -->
      <div id="admin-tab-public" class="tab-panel">
        <div class="card">
          <h3>View Students' Charts</h3>
          <p class="small-text">
            Select a student and period to see their average progress.
          </p>
          <div id="admin-public-wrapper"></div>
        </div>
      </div>
    </section>

    <!-- ============ STUDENT DASHBOARD ============ -->
    <section id="view-student-dashboard" class="view">
      <header class="top-bar">
        <button class="link-button" id="student-logout-btn" data-nav="landing">
          ← Logout
        </button>
        <h2>My Daily Chart</h2>
      </header>

      <div class="card">
        <div id="student-welcome" class="student-welcome"></div>

        <div class="date-row">
          <label for="daily-date">Select Date</label>
          <input id="daily-date" type="date" />
          <button id="daily-load-btn" class="btn ghost small">Load</button>
        </div>

        <h3>Today's Efforts</h3>
        <p class="small-text">
          Slide the bar for each point (0–100%). Then tap "Save Today's Marks".
        </p>
        <div id="student-points-input"></div>

        <button id="save-daily-btn" class="btn primary full-width">
          Save Today's Marks
        </button>
      </div>

      <div class="card">
        <div class="card-header-row">
        <h3>My Averages</h3>
        <button id="btn-student-public" class="btn ghost small">
          View Others' Charts
        </button>
      </div>
        <div class="period-switch">
          <button class="chip active" data-period="daily">Daily</button>
          <button class="chip" data-period="weekly">Weekly</button>
          <button class="chip" data-period="monthly">Monthly</button>
          <button class="chip" data-period="yearly">Yearly</button>
        </div>
        <div id="student-progress-list"></div>
      </div>
    </section>

    <!-- ============ PUBLIC CHARTS (EVERYONE) ============ -->
    <section id="view-public-charts" class="view">
      <header class="top-bar">
        <button class="link-button" data-nav="landing">← Back</button>
        <h2>Students' Charts (Public)</h2>
      </header>
      <div class="card">
        <p class="small-text">
          Anyone can see every student's average chart here. Names and centres are shown.
        </p>
        <div id="public-members-list"></div>

        <div class="public-chart-section">
          <h3 id="public-selected-title" class="hidden"></h3>
          <div class="period-switch" id="public-period-switch">
            <button class="chip active" data-public-period="daily">Daily</button>
            <button class="chip" data-public-period="weekly">Weekly</button>
            <button class="chip" data-public-period="monthly">Monthly</button>
            <button class="chip" data-public-period="yearly">Yearly</button>
          </div>
          <div id="public-progress-list"></div>
        </div>
      </div>
    </section>
  </div>

  <script src="./app.js"></script>
</body>
</html>
